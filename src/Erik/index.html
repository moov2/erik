<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />

        <title></title>

        <meta name="description" content="" />

        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <script type="text/javascript" src="/assets/js/phaser.min.js"></script>
        <script type="text/javascript" src="/assets/js/erik.js?v=dev"></script>
    </head>

    <body>
        <script type="text/javascript">
            var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update }),
            player,
            cursors;

            function preload() {
                game.load.spritesheet('dude', '/assets/images/dude.png', 32, 48);
            }

            function create() {
                //  We're going to be using physics, so enable the Arcade Physics system
                game.physics.startSystem(Phaser.Physics.ARCADE);

                // The player and its settings
                player = game.add.sprite(32, game.world.height - 150, 'dude');

                //  We need to enable physics on the player
                game.physics.arcade.enable(player);

                //  Player physics properties.
                player.body.collideWorldBounds = true;

                //  Our two animations, walking left and right.
                player.animations.add('left', [0, 1, 2, 3], 10, true);
                player.animations.add('right', [5, 6, 7, 8], 10, true);

                cursors = game.input.keyboard.createCursorKeys();
            }

            function update() {
                //  Reset the players velocity (movement)
                player.body.velocity.x = 0;

                if (cursors.left.isDown) {
                    //  Move to the left
                    player.body.velocity.x = -150;

                    player.animations.play('left');
                }
                else if (cursors.right.isDown) {
                    //  Move to the right
                    player.body.velocity.x = 150;

                    player.animations.play('right');
                }
                else {
                    //  Stand still
                    player.animations.stop();

                    player.frame = 4;
                }
            }


        </script>
        </body>
    </html>
